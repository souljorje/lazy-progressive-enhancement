/* @license
lazy-progressive-enhancement.js
https://github.com/tvler/lazy-progressive-enhancement
The MIT License (MIT)
Copyright (c) 2016 Tyler Deitz
*/
function loadMedia(t,e,n){"use strict";function o(){A(t)}function r(t){"interactive"===document.readyState||"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function i(t,n,o){var r=t.getBoundingClientRect(),i=300;r.bottom>=-i&&r.top-window.innerHeight<i&&r.right>=-i&&r.left-window.innerWidth<i&&(t.addEventListener("load",e),o&&(t.srcset=o),t.src=n)}function A(t){var o,r,A,d,a,l=0,s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";for(null==t||"string"==typeof t?t=document.body.querySelectorAll(t||"noscript"):t.length||(t=[t]);o=t[l++];)r=document.importNode((new DOMParser).parseFromString(o.textContent,"text/html").body.firstChild,!0),a=o.parentElement,n?(A=r.getAttribute("src"),d=r.getAttribute("srcset"),r.src=s,r.removeAttribute("srcset"),a.replaceChild(r,o),c.push(i.bind(this,r,A,d))):(r.addEventListener("load",e),a.replaceChild(r,o))}var c=[];r(o),r(function(){c.forEach(function(t){t()})}),document.onscroll=function(){c.forEach(function(t){t()})}}